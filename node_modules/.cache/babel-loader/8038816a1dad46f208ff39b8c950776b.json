{"ast":null,"code":"import _classCallCheck from\"/home/anisha/new-test/new-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/anisha/new-test/new-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/anisha/new-test/new-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/anisha/new-test/new-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import\"../App.css\";import{FaSearch}from\"react-icons/fa\";import{MdLocationOn}from\"react-icons/md\";import SecondComponent from\"./SecondComponent\";import WeatherReport from\"./WeatherReport\";import{confirmAlert}from\"react-confirm-alert\";import{API_KEY,GEO_API_KEY}from\"../constants\";import\"react-confirm-alert/src/react-confirm-alert.css\";var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(){var _this;_classCallCheck(this,Home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={weekArr:[{id:1,day:\"Sun\",maxTemp:28,minTemp:19,status:\"Sunny\"},{id:2,day:\"Mon\",maxTemp:23,minTemp:14,status:\"Cloudy\"},{id:3,day:\"Tue\",maxTemp:27,minTemp:19,status:\"Sunny\"},{id:4,day:\"Wed\",maxTemp:30,minTemp:26,status:\"Sunny\"},{id:5,day:\"Thu\",maxTemp:22,minTemp:11,status:\"Sunny\"},{id:6,day:\"Fri\",maxTemp:27,minTemp:17,status:\"Rainfall\"},{id:7,day:\"Sat\",maxTemp:21,minTemp:12,status:\"Sunny\"}],geoLocCity:'',weatherUpdate:null};_this.getUserLocation=function(){fetch(\"https://geolocation-db.com/json/\".concat(GEO_API_KEY)).then(function(response){return response.json();}).then(function(responseData){_this.setState({geoLocCity:responseData.city});});};_this.getWeatherUpdate=function(maxTemp,minTemp){var weekArr=_this.state.weekArr;var activeIndex=new Date().getDay();weekArr[activeIndex].maxTemp=maxTemp;weekArr[activeIndex].minTemp=minTemp;_this.setState({weekArr:weekArr});};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){confirmAlert({title:\"Weather App wants to know your location\",message:\"\",buttons:[{label:\"Yes\",onClick:this.getUserLocation},{label:\"No\"}]});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this2=this;if(prevState.geoLocCity!==this.state.geoLocCity){var city=this.state.geoLocCity;//let city = 'Chennai';\nfetch(\"http://pro.openweathermap.org/data/2.5/forecast/hourly?q=\".concat(city,\"&cnt=24&appid=\").concat(API_KEY)).then(function(response){return response.json();}).then(function(responseData){_this2.setState({weatherUpdate:responseData});});}}},{key:\"render\",value:function render(){var _this3=this;var activeIndex=new Date().getDay();return/*#__PURE__*/_jsxs(\"div\",{style:styles.mainStyle,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.boxStyle,children:[/*#__PURE__*/_jsx(MdLocationOn,{size:\"2em\"}),/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"search\",style:{width:\"90%\",border:\"none\"},placeholder:\"Search for a location\",onChange:function onChange(e){return _this3.setState({geoLocCity:e.target.value});},value:this.state.geoLocCity}),/*#__PURE__*/_jsx(FaSearch,{size:\"2em\"})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.secondDiv,children:this.state.weekArr.map(function(item,index){return/*#__PURE__*/_jsx(SecondComponent,{keyVal:index,data:item,activeIndex:activeIndex});})}),/*#__PURE__*/_jsx(WeatherReport,{data:this.state.weekArr[activeIndex],getWeatherUpdate:this.getWeatherUpdate,weatherUpdate:this.state.weatherUpdate})]});}}]);return Home;}(Component);var styles={mainStyle:{display:\"flex\",alignItems:\"center\",margin:\"1.6%\",marginLeft:\"20%\",marginRight:\"20%\",flexDirection:\"column\"},boxStyle:{display:\"flex\",flexDirection:\"row\",height:80,borderRadius:8,padding:\"1.6%\",justifyContent:\"space-between\",boxShadow:\"1px 4px 6px 1px #9E9E9E\",width:\"100%\"},secondDiv:{display:\"flex\",marginTop:\"4%\",flexDirection:\"row\",flexGrow:1,width:\"100%\"}};export default Home;","map":{"version":3,"sources":["/home/anisha/new-test/new-test/src/components/home.jsx"],"names":["React","Component","FaSearch","MdLocationOn","SecondComponent","WeatherReport","confirmAlert","API_KEY","GEO_API_KEY","Home","state","weekArr","id","day","maxTemp","minTemp","status","geoLocCity","weatherUpdate","getUserLocation","fetch","then","response","json","responseData","setState","city","getWeatherUpdate","activeIndex","Date","getDay","title","message","buttons","label","onClick","prevProps","prevState","styles","mainStyle","boxStyle","width","border","e","target","value","secondDiv","map","item","index","display","alignItems","margin","marginLeft","marginRight","flexDirection","height","borderRadius","padding","justifyContent","boxShadow","marginTop","flexGrow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../App.css\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { MdLocationOn } from \"react-icons/md\";\nimport SecondComponent from \"./SecondComponent\";\nimport WeatherReport from \"./WeatherReport\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport { API_KEY, GEO_API_KEY } from \"../constants\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\n\nclass Home extends Component {\n  state = {\n    weekArr: [\n      { id: 1, day: \"Sun\", maxTemp: 28, minTemp: 19, status: \"Sunny\" },\n      { id: 2, day: \"Mon\", maxTemp: 23, minTemp: 14, status: \"Cloudy\" },\n      { id: 3, day: \"Tue\", maxTemp: 27, minTemp: 19, status: \"Sunny\" },\n      { id: 4, day: \"Wed\", maxTemp: 30, minTemp: 26, status: \"Sunny\" },\n      { id: 5, day: \"Thu\", maxTemp: 22, minTemp: 11, status: \"Sunny\" },\n      { id: 6, day: \"Fri\", maxTemp: 27, minTemp: 17, status: \"Rainfall\" },\n      { id: 7, day: \"Sat\", maxTemp: 21, minTemp: 12, status: \"Sunny\" }\n    ],\n    geoLocCity: '',\n    weatherUpdate: null,\n  };\n\n  getUserLocation = () => {\n    fetch(`https://geolocation-db.com/json/${GEO_API_KEY}`)\n      .then(response => response.json())\n      .then(responseData => {\n        this.setState({\n          geoLocCity: responseData.city\n        });\n      });\n  };\n  \n\n  getWeatherUpdate = (maxTemp, minTemp) => {\n    let {weekArr} = this.state;\n    let activeIndex = new Date().getDay();\n    weekArr[activeIndex].maxTemp = maxTemp;\n    weekArr[activeIndex].minTemp = minTemp;\n    this.setState({\n        weekArr: weekArr\n    })\n  };\n\n  componentDidMount() {\n    confirmAlert({\n      title: \"Weather App wants to know your location\",\n      message: \"\",\n      buttons: [\n        {\n          label: \"Yes\",\n          onClick: this.getUserLocation\n        },\n        {\n          label: \"No\"\n        }\n      ]\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.geoLocCity !== this.state.geoLocCity) {\n      let city = this.state.geoLocCity;\n      //let city = 'Chennai';\n      fetch(\n        `http://pro.openweathermap.org/data/2.5/forecast/hourly?q=${city}&cnt=24&appid=${API_KEY}`\n      )\n        .then(response => response.json())\n        .then(responseData => {\n          this.setState({\n            weatherUpdate: responseData\n          });\n        });\n    }\n  }\n\n  render() {\n    let activeIndex = new Date().getDay();\n    return (\n      <div style={styles.mainStyle}>\n        <div style={styles.boxStyle}>\n          <MdLocationOn size=\"2em\" />\n          <input\n            type=\"search\"\n            className=\"search\"\n            style={{ width: \"90%\", border: \"none\" }}\n            placeholder={\"Search for a location\"}\n            onChange={e =>\n              this.setState({\n                geoLocCity: e.target.value\n              })\n            }\n            value={this.state.geoLocCity}\n          />\n          {/* </div> */}\n          <FaSearch size=\"2em\" />\n        </div>\n        <div style={styles.secondDiv}>\n          {this.state.weekArr.map((item, index) => {\n            return (\n              <SecondComponent\n                keyVal={index}\n                data={item}\n                activeIndex={activeIndex}\n              />\n            );\n          })}\n        </div>\n        <WeatherReport\n          data={this.state.weekArr[activeIndex]}\n          getWeatherUpdate={this.getWeatherUpdate}\n          weatherUpdate={this.state.weatherUpdate}\n        />\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  mainStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"1.6%\",\n    marginLeft: \"20%\",\n    marginRight: \"20%\",\n    flexDirection: \"column\"\n  },\n  boxStyle: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    height: 80,\n    borderRadius: 8,\n    padding: \"1.6%\",\n    justifyContent: \"space-between\",\n    boxShadow: \"1px 4px 6px 1px #9E9E9E\",\n    width: \"100%\"\n  },\n  secondDiv: {\n    display: \"flex\",\n    marginTop: \"4%\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n    width: \"100%\"\n  }\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}